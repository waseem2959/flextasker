#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "ğŸ” Running pre-commit checks..."

# Run ESLint on staged files
echo "ğŸ“ Linting staged files..."
npx lint-staged

# Type check
echo "ğŸ” Type checking..."
npx tsc --noEmit

# Verify no secrets are being committed
echo "ğŸ”’ Checking for secrets..."
npx secretlint --glob "**/*"

# Check for conventional commit message format
echo "ğŸ“ Validating commit message..."
npx commitlint --edit $1

echo "âœ… All checks passed!"
